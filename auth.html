<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZERIONX1 | Secure Access Terminal</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');

body{
    background:#070A0F;
    font-family:'Inter',sans-serif;
    color:#E5E7EB;
}

/* Institutional Glass */
.glass{
    background:#0F141B;
    border:1px solid #222933;
    border-radius:26px;
}

/* Brand Gold */
:root{
    --gold:#C19A5B;
}

/* Inputs */
.input{
    background:#131922;
    border:1px solid #2A3442;
    transition:.2s;
}
.input:focus-within{
    border-color:var(--gold);
    box-shadow:0 0 0 1px var(--gold);
}

/* Button */
.gold-btn{
    background:linear-gradient(180deg,#D4AF37,#A67C00);
    color:#000;
    font-weight:700;
    letter-spacing:.08em;
    transition:.2s;
}
.gold-btn:hover{
    transform:translateY(-1px);
}
.gold-btn:disabled{
    opacity:.6;
    cursor:not-allowed;
}

/* Animation */
.fade{animation:fade .35s ease;}
@keyframes fade{
from{opacity:0;transform:translateY(8px)}
to{opacity:1;transform:translateY(0)}
}
</style>
</head>

<body class="flex items-center justify-center min-h-screen p-6">

<div class="glass w-full max-w-md p-8 shadow-2xl">

<!-- HEADER -->
<div class="text-center mb-10">
<h1 class="text-3xl font-bold tracking-tight">
ZERION<span style="color:var(--gold)">X1</span>
</h1>
<p class="text-gray-500 text-sm">Institutional Trading Access</p>
</div>

<!-- TABS -->
<div class="flex border-b border-gray-800 mb-8">
<button id="login-tab"
class="flex-1 pb-3 text-sm font-semibold border-b-2 border-[var(--gold)] text-[var(--gold)]">
LOGIN
</button>

<button id="signup-tab"
class="flex-1 pb-3 text-sm font-semibold text-gray-500">
SIGN UP
</button>
</div>

<div id="message" class="hidden mb-5 text-xs text-center p-3 rounded-xl"></div>

<!-- LOGIN -->
<form id="login-form" class="space-y-4 fade">

<div class="input flex items-center px-4 py-3 rounded-xl">
<i class="fa-regular fa-envelope text-gray-500 mr-3"></i>
<input id="login-email" type="email"
placeholder="Email"
required class="bg-transparent w-full outline-none">
</div>

<div class="input flex items-center px-4 py-3 rounded-xl">
<i class="fa-solid fa-lock text-gray-500 mr-3"></i>

<input id="login-password" type="password"
placeholder="Password"
required class="bg-transparent w-full outline-none">

<i class="fa-regular fa-eye cursor-pointer text-gray-400"
onclick="togglePassword('login-password',this)"></i>
</div>

<button id="login-btn"
class="gold-btn w-full py-4 rounded-xl mt-3">
ENTER TERMINAL
</button>

</form>

<!-- SIGNUP -->
<form id="signup-form" class="space-y-4 hidden fade">

<div class="input flex items-center px-4 py-3 rounded-xl">
<i class="fa-regular fa-user mr-3 text-gray-500"></i>
<input id="sig-name" placeholder="Full Name"
required class="bg-transparent w-full outline-none">
</div>

<div class="input flex items-center px-4 py-3 rounded-xl">
<i class="fa-regular fa-envelope mr-3 text-gray-500"></i>
<input id="sig-email" type="email"
placeholder="Email"
required class="bg-transparent w-full outline-none">
</div>

<div class="input flex items-center px-4 py-3 rounded-xl">
<i class="fa-solid fa-phone mr-3 text-gray-500"></i>
<input id="sig-phone" placeholder="+91 XXXXX XXXXX"
required class="bg-transparent w-full outline-none">
</div>

<div class="input flex items-center px-4 py-3 rounded-xl">
<i class="fa-solid fa-lock mr-3 text-gray-500"></i>

<input id="sig-password" type="password"
placeholder="Password"
required class="bg-transparent w-full outline-none">

<i class="fa-regular fa-eye cursor-pointer text-gray-400"
onclick="togglePassword('sig-password',this)"></i>
</div>

<div class="input flex items-center px-4 py-3 rounded-xl">
<i class="fa-solid fa-gift mr-3 text-gray-500"></i>
<input id="sig-ref" placeholder="Referral Code (Optional)"
class="bg-transparent w-full outline-none">
</div>

<button id="signup-btn"
class="gold-btn w-full py-4 rounded-xl">
CREATE ACCOUNT
</button>

</form>

</div>

<script>
/* =========================
   SUPABASE INIT
========================= */
const supabaseClient = supabase.createClient(
'https://dpmqjvaylnszykujmufv.supabase.co',
'sb_publishable_S2HHT0VP1Ru6Dk63ju7V-Q_FnNfX1sd'
);

const msg = document.getElementById("message");

/* MESSAGE UI */
function showMsg(text,error=false){
msg.innerText=text;
msg.className=`mb-5 p-3 rounded-xl text-xs ${
error
?'bg-red-900/30 text-red-400'
:'bg-green-900/30 text-green-400'
}`;
msg.classList.remove("hidden");
}

/* PASSWORD TOGGLE */
function togglePassword(id,icon){
const input=document.getElementById(id);
if(input.type==="password"){
input.type="text";
icon.classList.replace("fa-eye","fa-eye-slash");
}else{
input.type="password";
icon.classList.replace("fa-eye-slash","fa-eye");
}
}

/* TAB SWITCH */
const loginTab=document.getElementById("login-tab");
const signupTab=document.getElementById("signup-tab");

loginTab.onclick=()=>{
loginTab.classList.add("border-[var(--gold)]","text-[var(--gold)]");
signupTab.classList.remove("border-[var(--gold)]","text-[var(--gold)]");
document.getElementById("login-form").classList.remove("hidden");
document.getElementById("signup-form").classList.add("hidden");
};

signupTab.onclick=()=>{
signupTab.classList.add("border-[var(--gold)]","text-[var(--gold)]");
loginTab.classList.remove("border-[var(--gold)]","text-[var(--gold)]");
document.getElementById("signup-form").classList.remove("hidden");
document.getElementById("login-form").classList.add("hidden");
};

/* ================= LOGIN ================= */
document.getElementById("login-form").addEventListener("submit",async(e)=>{
e.preventDefault();

const btn=document.getElementById("login-btn");
btn.disabled=true;
btn.innerText="AUTHENTICATING...";

const {error}=await supabaseClient.auth.signInWithPassword({
email:login-email.value,
password:login-password.value
});

if(error){
showMsg(error.message,true);
btn.disabled=false;
btn.innerText="ENTER TERMINAL";
return;
}

showMsg("Access Granted â€” Loading Dashboard");
setTimeout(()=>location.href="dashboard.html",1200);
});

/* ================= SIGNUP ================= */
document.getElementById("signup-form").addEventListener("submit",async(e)=>{
e.preventDefault();

const btn=document.getElementById("signup-btn");
btn.disabled=true;
btn.innerText="CREATING ACCOUNT...";

const {error}=await supabaseClient.auth.signUp({
email:sig-email.value,
password:sig-password.value,
options:{
data:{
full_name:sig-name.value,
phone:sig-phone.value,
referral_code:sig-ref.value
}
}
});

if(error){
showMsg(error.message,true);
btn.disabled=false;
btn.innerText="CREATE ACCOUNT";
return;
}

showMsg("Verification email sent. Check inbox.");
btn.innerText="ACCOUNT CREATED";
});
</script>

</body>
</html>
